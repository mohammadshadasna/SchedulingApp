<!--navbar-->

<bs-navbar></bs-navbar>

<!--end navbar-->

<!--search-box and dropdown-->
<div class="container" style="padding-bottom: 30px">
  <div class="row">
    <div class="col-sm-6">
      <input
        #query
        (keyup)="filter(query.value)"
        type="text"
        class="form-control"
        placeholder="Search..."
      />
    </div>
    <div class=" col-sm-3 offset-sm-3" style="align-items: center">
      <select
        id="departmentDropdown"
        name="departmentDropdown"
        #departmentDropdown="ngModel"
        [ngClass]="{
          'txt-error': departmentDropdown.touched && departmentDropdown.invalid
        }"
        (ngModelChange)="onSelectingDepartment($event)"
        [(ngModel)]="departmentId"
        class="form-control"
      >
        <option value="-1">--اختر إدارة--</option>
        <option *ngFor="let dept of departments" [value]="dept.departmentId">
          {{ dept.departmentName }}
        </option>
      </select>
    </div>
  </div>
</div>
<!--end search-box-->

<!--data-table-->
<div class="container">
  <table
    class="table table-striped table-bordered"
    [mfData]="filteredAppointments"
    #mf="mfDataTable"
    [mfRowsOnPage]="10"
  >
    <thead>
      <tr>
        <th><mfDefaultSorter by="UserName"> UserName </mfDefaultSorter></th>
        <th>
          <mfDefaultSorter by="AppointmentTitle">
            AppointmentTitle
          </mfDefaultSorter>
        </th>
        <th><mfDefaultSorter by="StartDate"> StarDate </mfDefaultSorter></th>
        <th><mfDefaultSorter by="EndDate"> EndDate </mfDefaultSorter></th>
        <th><mfDefaultSorter by="Status"> Status </mfDefaultSorter></th>
        <th><mfDefaultSorter by="Department"> Department </mfDefaultSorter></th>
        <th>
          <mfDefaultSorter by="Description"> Description </mfDefaultSorter>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let appointment of filteredAppointments">
        <td>{{ appointment.UserName }}</td>
        <td>{{ appointment.AppointmentTitle }}</td>
        <td>{{ appointment.StartDate }}</td>
        <td>{{ appointment.EndDate }}</td>
        <td>{{ appointment.Status }}</td>
        <td>{{ appointment.Department }}</td>
        <td>{{ appointment.Description }}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="7" class="table-pager">
          <mfBootstrapPaginator
            [rowsOnPageSet]="[5, 10, 25]"
          ></mfBootstrapPaginator>
        </td>
      </tr>
    </tfoot>
  </table>
</div>

<!--data-table-->
